# enconding: utf-8
#!/usr/bin/env ruby

require 'httparty'

Cenario: Automação Backend

Dado(/^Utilizando a API com um cep válido$/) do 
    begin 
    response = HTTParty.get('http://correiosapi.apphb.com/cep/$CEP',
    :body => { :CEP => $CEP.to_s,
               :CEP => $CEP.to_s,
               :CEP => $CEP.to_s,
               :CEP => $CEP.to_s,
               :CEP => $CEP.to_s,
               :CEP => $CEP.to_s,
             }to_json
    
end


Quando(/^Os usuarios fazem login com sucesso$/) do
     fill in ('Username', :with => "tomsmith")
     fill_in ('Password', :with => "SuperSecretPassword!")
end

E(/^Clicar no botão de Login$/) do 
     click_button 'Login'
end

Então(/^Validar a mensagem de Login$/) do 
     expect(page).to have_content 'You logged into a secure area'
end

E(/^Clicar no botão de Logout$/) do 
     click_button 'Logout'
end

E(/^Validar a mensagem de Logout$/) do 
     expect(page).to have_content 'You logged out of the secure area'
end
